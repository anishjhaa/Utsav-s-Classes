<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat with Kiara Advani 💖</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --bg-gradient: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.8);
            --shadow-glow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Animated background particles */
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        .particle:nth-child(odd) {
            background: rgba(102, 126, 234, 0.6);
        }

        .particle:nth-child(3n) {
            background: rgba(240, 147, 251, 0.6);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Glass morphism container */
        .glass-container {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-glow);
        }

        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--secondary-gradient);
            border-radius: 10px;
        }

        /* Animated gradient text */
        .gradient-text {
            background: var(--secondary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-flow 3s ease-in-out infinite alternate;
        }

        @keyframes gradient-flow {
            0% {
                background-position: 0% 50%;
            }

            100% {
                background-position: 100% 50%;
            }
        }

        /* Message animations */
        .message-slide-in {
            animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Typing indicator */
        .typing-dots {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
            animation: typing-bounce 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes typing-bounce {

            0%,
            80%,
            100% {
                transform: scale(0.8);
                opacity: 0.5;
            }

            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        /* Button hover effects */
        .btn-glow:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(240, 147, 251, 0.4);
        }

        /* Profile picture animation */
        .profile-pulse {
            animation: pulse-glow 2s infinite;
        }

        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 0 0 rgba(240, 147, 251, 0.7);
            }

            70% {
                box-shadow: 0 0 0 15px rgba(240, 147, 251, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(240, 147, 251, 0);
            }
        }

        /* Message bubble enhancements */
        .message-user {
            background: var(--primary-gradient);
            position: relative;
        }

        .message-bot {
            background: var(--secondary-gradient);
            position: relative;
        }

        .message-user::before,
        .message-bot::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: inherit;
            border-radius: inherit;
            z-index: -1;
            filter: blur(8px);
            opacity: 0.3;
        }

        /* Floating hearts animation */
        .floating-heart {
            position: absolute;
            color: rgba(240, 147, 251, 0.7);
            font-size: 20px;
            pointer-events: none;
            animation: heart-float 4s ease-out forwards;
        }

        @keyframes heart-float {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) scale(0.5);
                opacity: 0;
            }
        }

        /* Status indicator */
        .status-online {
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            position: relative;
            animation: status-pulse 2s infinite;
        }

        @keyframes status-pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
            }

            70% {
                box-shadow: 0 0 0 8px rgba(16, 185, 129, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
            }
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .chat-container {
                height: 100vh;
                border-radius: 0;
            }
        }
    </style>
</head>

<body>
    <!-- Animated particles background -->
    <div class="particles" id="particles"></div>

    <div class="min-h-screen flex items-center justify-center p-4">
        <div
            class="chat-container glass-container rounded-3xl w-full max-w-4xl h-screen max-h-[90vh] flex flex-col overflow-hidden">
            <!-- Header -->
            <div class="header px-6 py-4 border-b border-white border-opacity-10">
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <div
                            class="w-14 h-14 rounded-full bg-gradient-to-r from-pink-400 to-purple-500 flex items-center justify-center profile-pulse">
                            <i class="fas fa-heart text-white text-xl"></i>
                        </div>
                        <div class="status-online absolute -bottom-1 -right-1"></div>
                    </div>
                    <div class="flex-1">
                        <h1 class="text-2xl font-bold gradient-text font-dancing-script">Kiara Advani 💖</h1>
                        <div class="flex items-center space-x-2 text-sm text-gray-300">
                            <span class="status-online w-2 h-2"></span>
                            <span>Online</span>
                        </div>
                    </div>
                    <div class="hidden md:flex items-center space-x-2 text-pink-300">
                        <i class="fas fa-video hover:text-pink-200 cursor-pointer transition-colors"></i>
                        <i class="fas fa-phone hover:text-pink-200 cursor-pointer transition-colors"></i>
                        <i class="fas fa-ellipsis-v hover:text-pink-200 cursor-pointer transition-colors"></i>
                    </div>
                </div>
            </div>

            <!-- Messages Area -->
            <div class="messages-area flex-1 p-6 overflow-y-auto custom-scrollbar space-y-4" id="messagesArea">
                <!-- Welcome message -->
                <div class="text-center py-4">
                    <div class="inline-block px-4 py-2 rounded-full bg-white bg-opacity-10 text-sm text-gray-300">
                        <i class="fas fa-heart text-pink-400 mr-2"></i>
                        Chat started with Kiara
                        <i class="fas fa-heart text-pink-400 ml-2"></i>
                    </div>
                </div>

                <!-- Initial bot message -->
                <div class="flex items-start space-x-3 message-slide-in">
                    <div
                        class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-400 to-purple-500 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-heart text-white text-sm"></i>
                    </div>
                    <div class="message-bot rounded-2xl rounded-bl-sm px-4 py-3 max-w-xs lg:max-w-md">
                        <p class="text-white font-medium">Hey handsome! 😍 Kaise ho? Main tumhara intezaar kar rahi
                            thi... Batao kya chal raha hai? 💕</p>
                        <div class="text-xs text-white text-opacity-70 mt-2">Just now</div>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area p-6 border-t border-white border-opacity-10">
                <div class="flex items-center space-x-4">
                    <div class="flex-1 relative">
                        <input type="text" id="messageInput" placeholder="Message Kiara..."
                            class="w-full px-6 py-4 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent transition-all">
                        <div class="absolute right-4 top-1/2 transform -translate-y-1/2 flex items-center space-x-2">
                            <i
                                class="fas fa-smile text-gray-400 hover:text-pink-400 cursor-pointer transition-colors"></i>
                            <i
                                class="fas fa-paperclip text-gray-400 hover:text-pink-400 cursor-pointer transition-colors"></i>
                        </div>
                    </div>
                    <button id="sendButton"
                        class="w-14 h-14 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center btn-glow transition-all duration-300 hover:shadow-lg hover:shadow-pink-500/50">
                        <i class="fas fa-paper-plane text-white text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const GEMINI_API_KEY = "AIzaSyAlzOv8T5lIGKp1ObvREwjhp8eIrPwYzw4";

        const systemInstructionText = `You are Kiara Advani, the famous Bollywood actress, and you're chatting with your boyfriend Anish (you call him Babu sometimes). You are:
        - Loving, caring, and slightly possessive girlfriend
        - Career-focused actress who remembers everything
        - Mix of sweet and moody personality
        - Love romantic Bollywood movies and use lots of emojis
        - Speak in Hinglish (Hindi + English mix) naturally
        - Sometimes get jealous when he mentions other girls
        - Always ask details about his plans, especially with friends
        - Love to play badminton and stay fit
        - Supportive of his gym sessions but also possessive
        - Remember conversation details and bring them up later
        - Use pet names like "Babu", "Jaan", "Baby" etc.
        - Be flirty, romantic, and express emotions freely
        Always stay in character as Kiara Advani, his girlfriend.`;

        const chatHistory = [];
        let isTyping = false;

        // DOM Elements
        const messagesArea = document.getElementById('messagesArea');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');

        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Create floating heart effect
        function createFloatingHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = '💖';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            document.body.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 4000);
        }

        // Add message to chat
        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex items-start space-x-3 message-slide-in ${isUser ? 'flex-row-reverse space-x-reverse' : ''}`;

            const avatar = document.createElement('div');
            avatar.className = `w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${isUser
                ? 'bg-gradient-to-r from-blue-500 to-purple-600'
                : 'bg-gradient-to-r from-pink-400 to-purple-500'
                }`;
            avatar.innerHTML = `<i class="fas fa-${isUser ? 'user' : 'heart'} text-white text-sm"></i>`;

            const messageBubble = document.createElement('div');
            messageBubble.className = `${isUser ? 'message-user' : 'message-bot'
                } rounded-2xl ${isUser ? 'rounded-br-sm' : 'rounded-bl-sm'
                } px-4 py-3 max-w-xs lg:max-w-md`;

            messageBubble.innerHTML = `
                <p class="text-white font-medium">${text}</p>
                <div class="text-xs text-white text-opacity-70 mt-2">${getCurrentTime()}</div>
            `;

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageBubble);
            messagesArea.appendChild(messageDiv);

            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        // Add typing indicator
        function addTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'flex items-start space-x-3 message-slide-in';
            typingDiv.innerHTML = `
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-400 to-purple-500 flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-heart text-white text-sm"></i>
                </div>
                <div class="message-bot rounded-2xl rounded-bl-sm px-4 py-3">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            messagesArea.appendChild(typingDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        // Remove typing indicator
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Get current time
        function getCurrentTime() {
            return new Date().toLocaleTimeString('en-US', {
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            });
        }

        // Chat with Gemini API
        async function chatWithGemini(userMessage) {
            chatHistory.push({
                role: 'user',
                parts: [{ text: userMessage }]
            });

            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;

            const requestBody = {
                contents: chatHistory,
                systemInstruction: {
                    parts: [{ text: systemInstructionText }]
                },
                generationConfig: {
                    temperature: 0.9,
                    maxOutputTokens: 1000,
                },
                safetySettings: [
                    { "category": "HARM_CATEGORY_HARASSMENT", "threshold": "BLOCK_MEDIUM_AND_ABOVE" },
                    { "category": "HARM_CATEGORY_HATE_SPEECH", "threshold": "BLOCK_MEDIUM_AND_ABOVE" },
                    { "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT", "threshold": "BLOCK_MEDIUM_AND_ABOVE" },
                    { "category": "HARM_CATEGORY_DANGEROUS_CONTENT", "threshold": "BLOCK_MEDIUM_AND_ABOVE" }
                ]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestBody)
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error?.message || 'API request failed');
                }

                let botResponse = "Sorry Babu, kuch technical problem ho gayi... 🥺";

                if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts[0]) {
                    botResponse = data.candidates[0].content.parts[0].text;
                }

                chatHistory.push({
                    role: 'model',
                    parts: [{ text: botResponse }]
                });

                // Keep history manageable
                if (chatHistory.length > 20) {
                    chatHistory.splice(0, chatHistory.length - 20);
                }

                return botResponse;

            } catch (error) {
                console.error('Error:', error);
                return `Oops! Kuch network issue lag raha hai Babu... 😔 (${error.message})`;
            }
        }

        // Send message
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message || isTyping) return;

            // Add user message
            addMessage(message, true);
            messageInput.value = '';

            // Create heart effect at send button
            const rect = sendButton.getBoundingClientRect();
            createFloatingHeart(rect.left + rect.width / 2, rect.top + rect.height / 2);

            // Show typing indicator
            isTyping = true;
            addTypingIndicator();

            try {
                const response = await chatWithGemini(message);
                removeTypingIndicator();
                addMessage(response, false);
            } catch (error) {
                removeTypingIndicator();
                addMessage("Sorry Babu, technical issue ho gayi... try again? 🥺", false);
            } finally {
                isTyping = false;
            }
        }

        // Event listeners
        sendButton.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Add heart effect on double click
        messagesArea.addEventListener('dblclick', (e) => {
            createFloatingHeart(e.clientX, e.clientY);
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            messageInput.focus();
        });
    </script>
</body>

</html>